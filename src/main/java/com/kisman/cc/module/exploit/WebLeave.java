package com.kisman.cc.module.exploit;

import com.kisman.cc.Kisman;
import com.kisman.cc.module.Category;
import com.kisman.cc.module.Module;
import com.kisman.cc.settings.Setting;
import i.gishreloaded.gishcode.utils.visual.ChatUtils;
import net.minecraft.block.Block;
import net.minecraft.util.math.BlockPos;

public class WebLeave extends Module {
    public WebLeave() {
        super("WebLeave", "f", Category.EXPLOIT);

        Kisman.instance.settingsManager.rSetting(new Setting("voidsetting", this, "void", "setting"));
    }

    public void onEnable() {
        if(mc.player == null && mc.world == null) return;

        if (mc.world.getBlockState(new BlockPos(mc.player.posX, mc.player.posY + 1, mc.player.posZ)).getBlock() == Block.getBlockById(30)) {
            mc.player.motionY = 0.18f;
        } else if (mc.world.getBlockState(new BlockPos(mc.player.posX, mc.player.posY, mc.player.posZ)).getBlock() == Block.getBlockById(30)) {
            mc.player.fallDistance = 0.0f;
            mc.player.motionX = 0.0;
            mc.player.motionY = 5f;
        } else {
            ChatUtils.error("Web not found!");
            super.setToggled(false);
        }
    }
}
